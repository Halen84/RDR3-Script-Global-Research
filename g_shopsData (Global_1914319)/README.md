<h2>g_shopsData</h2>

```
struct g_shopsData
{
	struct sActiveShop
	{
		int eShop = *getGlobalPtr(BASE + 16855 + 1);
	};
	// Global_1914319.f_16855.f_1 = g_shopsData.sActiveShop.eShop???
	// Global_1914319.f_16855 = g_shopsData.sActiveShop.eShopType???
private:
	static const int BASE = 1914319;
};
```

#

```
enum _eShop
{
	SHOP_INVALID = -1,
	SHOP_FIRST_NORMAL_SHOP,
	SHOP_ASB_POST_OFFICE,
	SHOP_ASB_LAST,
	SHOP_BGV_FIRST,
	SHOP_BGV_TRAPPER_2,
	SHOP_BLK_FIRST,
	SHOP_BLK_GENERAL_STORE,
	SHOP_BLK_GUNSMITH,
	SHOP_BLK_BARBER,
	SHOP_BLK_BUTCHER,
	SHOP_BLK_BARTENDER,
	SHOP_BLK_PIANIST,
	SHOP_BLK_PHOTO_STUDIO,
	SHOP_BLK_HORSE_SHOP,
	SHOP_BLK_POST_OFFICE,
	SHOP_BLK_TRAIN_STATION,
	SHOP_BLK_MUSICIAN_GUITARIST_FIRST,
	SHOP_BLK_MUSICIAN_GUITARIST_SECOND,
	SHOP_BLK_MUSICIAN_GUITARIST_THIRD,
	SHOP_BLK_LAST,
	SHOP_MOONSHINE_STILL,
	SHOP_EMR_STILL,
	SHOP_EMR_FIRST,
	SHOP_EMR_GENERAL_STORE,
	SHOP_EMR_POST_OFFICE,
	SHOP_EMR_TRAIN_STATION,
	SHOP_LAG_FIRST,
	SHOP_RGG_POST_OFFICE,
	SHOP_RGG_TRAIN_STATION,
	SHOP_RHO_BANK,
	SHOP_RHO_BUTCHER,
	SHOP_RHO_FENCE,
	SHOP_RHO_STILL,
	SHOP_RHO_GENERAL_STORE,
	SHOP_RHO_GUNSMITH,
	SHOP_RHO_POST_OFFICE,
	SHOP_RHO_BARTENDER,
	SHOP_RHO_PIANIST,
	SHOP_RHO_MUSICIAN_BANJO,
	SHOP_RHO_LAST,
	SHOP_ROA_FIRST,
	SHOP_SCM_FIRST,
	SHOP_SDN_BANK,
	SHOP_SDN_BARBER,
	SHOP_SDN_BUTCHER,
	SHOP_SDN_DOCTOR,
	SHOP_SDN_FENCE,
	SHOP_SDN_STILL,
	SHOP_SDN_GENERAL_STORE,
	SHOP_SDN_GUNSMITH,
	SHOP_SDN_HORSE_SHOP,
	SHOP_SDN_POST_OFFICE,
	SHOP_SDN_TRAIN_STATION,
	SHOP_SDN_TAILOR,
	SHOP_SDN_BARTENDER,
	SHOP_SDN_PIANIST,
	SHOP_SDN_BARTENDER_SLUM,
	SHOP_SDN_PIANIST_SLUM,
	SHOP_SDN_MUSICIAN_GUITARIST,
	SHOP_SDN_MUSICIAN_BANJO,
	SHOP_SDN_PHOTO_STUDIO,
	SHOP_SDN_THEATER_MP,
	SHOP_SDN_THEATER_MAGIC_MP,
	SHOP_SDN_LAST,
	SHOP_HSO_LAST,
	SHOP_CLM_LAST,
	SHOP_SHB_PEARSON,
	SHOP_BVH_FIRST,
	SHOP_STR_FIRST,
	SHOP_STR_GENERAL_STORE,
	SHOP_STR_WELCOME_CENTER,
	SHOP_STR_HORSE_SHOP,
	SHOP_STR_MUSICIAN_BANJO,
	SHOP_STR_MUSICIAN_GUITARIST,
	SHOP_STR_LAST,
	SHOP_STR_BARTENDER,
	SHOP_TAL_LAST,
	SHOP_VAL_FIRST,
	SHOP_VAL_BARBER,
	SHOP_VAL_BARTENDER,
	SHOP_VAL_PIANIST,
	SHOP_VAL_BARTENDER_KEANE,
	SHOP_VAL_BUTCHER,
	SHOP_VAL_DOCTOR,
	SHOP_VAL_GENERAL_STORE,
	SHOP_VAL_GUNSMITH,
	SHOP_VAL_HORSE_SHOP,
	SHOP_VAL_POST_OFFICE,
	SHOP_VAL_TRAIN_STATION,
	SHOP_VAL_THEATER_MAGIC_MP,
	SHOP_VAL_HOTEL,
	SHOP_VAL_BARTENDER_SLUM,
	SHOP_VAN_STILL,
	SHOP_VAN_FIRST,
	SHOP_VAN_BARTENDER,
	SHOP_VAN_PIANIST,
	SHOP_VAN_HORSE_SHOP,
	SHOP_VAN_TRAIN_STATION,
	SHOP_VAN_POST_OFFICE,
	SHOP_WAL_GENERAL_STORE,
	SHOP_WAL_TRAIN_STATION,
	SHOP_WAL_LAST,
	SHOP_TBL_GENERAL_STORE,
	SHOP_TBL_GUNSMITH,
	SHOP_TBL_BUTCHER,
	SHOP_TBL_BARTENDER,
	SHOP_TBL_PIANIST,
	SHOP_TBL_HORSE_SHOP,
	SHOP_AMD_GENERAL_STORE,
	SHOP_AMD_HONOR_MP,
	SHOP_AMD_BARTENDER,
	SHOP_AMD_POST_OFFICE,
	SHOP_AMD_LAST,
	SHOP_ROJ_HONOR_MP,
	SHOP_BOJ_HONOR_MP,
	SHOP_RYC_STILL,
	SHOP_RYC_LAST,
	SHOP_BEN_FIRST,
	SHOP_LAST_NORMAL_SHOP,
	SHOP_DYNAMIC,
	SHOP_VAL_BOUNTYHUNTING_MP_RETURN,
	SHOP_VAL_COACH,
	SHOP_BLK_BOUNTYHUNTING_MP_RETURN,
	SHOP_BLK_COACH,
	SHOP_SDN_BOUNTYHUNTING_MP_RETURN,
	SHOP_SDN_COACH,
	SHOP_RHO_BOUNTYHUNTING_MP_RETURN,
	SHOP_STR_BOUNTYHUNTING_MP_RETURN,
	SHOP_VAN_COACH,
	SHOP_ASB_BOUNTYHUNTING_MP_RETURN,
	SHOP_THL_FENCE,
	SHOP_THL_STILL,
	SHOP_BUT_MUSICIAN_BANJO,
	SHOP_WILDERNESS_SUPPLIES,
	SHOP_MOONSHINE_PROPERTY,
	SHOP_RIO_TRAVELLING_SALESMAN,
	SHOP_CHO_TRAVELLING_SALESMAN,
	SHOP_HEN_TRAVELLING_SALESMAN,
	SHOP_TAL_TRAVELLING_SALESMAN,
	SHOP_BGV_TRAVELLING_SALESMAN,
	SHOP_HRT_E_TRAVELLING_SALESMAN,
	SHOP_HRT_W_TRAVELLING_SALESMAN,
	SHOP_GRZ_TRAVELLING_SALESMAN,
	SHOP_SCM_TRAVELLING_SALESMAN,
	SHOP_BLU_TRAVELLING_SALESMAN,
	SHOP_DER_TRAVELLING_SALESMAN,
	SHOP_BBR_TRAVELLING_SALESMAN,
	SHOP_CAMP_TRAVELLING_SALESMAN,
	SHOP_CHO_TRAPPER,
	SHOP_HEN_HARRIET,
	SHOP_BGV_HARRIET,
	SHOP_LAST_MP_NON_CARAVAN_SHOP,
	SHOP_ANYWHERE_HANDHELD,
	SHOP_CAMP_LOCKBOX,
	SHOP_CAMP_BUTCHERTABLE,
	SHOP_FIRST_CARAVAN_SHOP,
	SHOP_BVH_GENERAL_STORE,
	SHOP_BVH_GUNSMITH,
	SHOP_BVH_HORSE_TRAINER,
	SHOP_CLM_DOCTOR,
	SHOP_CLM_GENERAL_STORE,
	SHOP_CLM_GUNSMITH,
	SHOP_CLM_HORSE_TRAINER,
	SHOP_CLM_HORSE_FENCE,
	SHOP_HSO_DOCTOR,
	SHOP_HSO_GENERAL_STORE,
	SHOP_HSO_GUNSMITH,
	SHOP_HSO_HORSE_TRAINER,
	SHOP_LAK_DOCTOR,
	SHOP_LAK_GENERAL_STORE,
	SHOP_LAK_GUNSMITH,
	SHOP_LAK_HORSE_TRAINER,
	SHOP_SHB_DOCTOR,
	SHOP_SHB_GENERAL_STORE,
	SHOP_SHB_GUNSMITH,
	SHOP_SHB_HORSE_TRAINER,
	SHOP_WEAPON_MOD_STORE,
	SHOP_CLOTHING,
	SHOP_CAMP_SHAVING,
	SHOP_WARDROBE,
	NUM_SHOPS
};
```
# Shop Types
```
enum _eShopType
{
	ST_INVALID = -1,
	ST_FIRST,
	ST_INCREMENT,
	ST_POST_OFFICE,
	ST_GENERAL,
	ST_FENCE,
	ST_HORSE_FENCE,
	ST_GUNSMITH,
	ST_TAILOR,
	ST_BARBER,
	ST_HORSE_SHOP,
	ST_BUTCHER,
	ST_DYNAMIC,
	ST_BANK,
	ST_DONATE,
	ST_BAIT,
	ST_TRAPPER,
	ST_PEARSON,
	ST_HOTEL,
	ST_PHOTO_STUDIO,
	ST_WEAPON_MOD_STORE,
	ST_CLOTHING,
	SHOP_LAST_SP_SHOP_TYPE,
	ST_QUARTERMASTER,
	ST_HORSE_TRAINER,
	ST_BLACKSMITH,
	ST_BOUNTYHUNTING_MP_RETURN,
	ST_COACH,
	ST_WILDERNESS_SUPPLIES,
	ST_CAMP_LOCKBOX,
	ST_CAMP_BUTCHERTABLE,
	ST_BARTENDER,
	ST_PIANIST,
	ST_MUSICIAN,
	ST_MOONSHINE_STILL,
	ST_HANDHELD,
	ST_HONOR_MP,
	ST_THEATER_MP,
	ST_MOONSHINE_PROPERTY,
	ST_TRAVELLING_SALESMAN,
	ST_HARRIET,
	NUM_SHOP_TYPES
};
```

# Snippets from the scripts (b1436)
- long_update.ysc
- Line 6899 - func_212
```
if (func_778() && !func_779(Global_1914319.f_16855.f_1))
{
	if (!func_213(iParam0, 128))
	{
		return false;
	}
}
if (func_213(iParam0, 98304))
{
	bVar2 = func_780(iParam0);
	if (!bVar2)
	{
		*iParam1 = 0;
		return false;
	}
}
```
